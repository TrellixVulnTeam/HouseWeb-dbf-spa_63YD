{"remainingRequest":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js!C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\util\\helper.js","dependencies":[{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\util\\helper.js","mtime":1632365785106},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\babel.config.js","mtime":1627638834000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1N0YXJ0ZXItS2l0L0hvdXNlV2ViLWRiZi1zcGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwoKZXhwb3J0IHZhciBodHRwUmVxdWVzdCA9IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhLCB0b2tlbikgewogIHZhciBjb250ZW50X3R5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6ICdhcHBsaWNhdGlvbi9qc29uJzsKICB2YXIgcmVzcG9uc2VUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAnanNvbic7CiAgaWYgKCF3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkgdGhyb3cgbmV3IEVycm9yKCdub19pbnRlcm5ldCcpOwogIHJldHVybiBheGlvcyh7CiAgICBoZWFkZXJzOiB7CiAgICAgICJDb250ZW50LVR5cGUiOiBjb250ZW50X3R5cGUsCiAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgfSwKICAgIG1ldGhvZDogbWV0aG9kLAogICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyB1cmwsCiAgICBkYXRhOiBkYXRhLAogICAgcmVzcG9uc2VUeXBlOiByZXNwb25zZVR5cGUKICB9KTsKfTsKZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVSTEZyb21CbG9iKGJsb2IpIHsKICByZXR1cm4gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7Cn0KZXhwb3J0IHZhciBoYW5kbGVWdWV4QXBpQ2FsbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodnVleEFjdGlvbiwgcGF5bG9hZCkgewogICAgdmFyIGRhdGEsIGVycm9yQ29kZSwgZXJyb3I7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHZ1ZXhBY3Rpb24ocGF5bG9hZCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICBpZiAoIV9jb250ZXh0LnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBIYW5kbGUgUmVzcG9uc2UgRXJyb3JzCiAgICAgICAgICAgIGVycm9yQ29kZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3JDb2RlOwogICAgICAgICAgICBlcnJvciA9IGdldEVycm9yT2JqKGVycm9yQ29kZSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsCiAgICAgICAgICAgICAgZXJyb3JDb2RlOiBlcnJvckNvZGUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDAubWVzc2FnZSA9PT0gJ25vX2ludGVybmV0JykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgICBlcnJvcjogewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlXCdyZSBoYXZpbmcgdHJvdWJsZSBjb25uZWN0aW5nIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbi4nLAogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7CgogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlVnVleEFwaUNhbGwoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp2YXIgZ2V0RXJyb3JPYmogPSBmdW5jdGlvbiBnZXRFcnJvck9iaihlcnJvckNvZGUpIHsKICB2YXIgbWVzc2FnZSA9ICdTb3JyeSwgd2UgaGF2ZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yLiBQbGVhc2UgY29udGFjdCBvdXIgdGVjaG5pY2FsIHRlYW0gZm9yIHN1cHBvcnQuJzsKCiAgc3dpdGNoIChlcnJvckNvZGUpIHsKICAgIGNhc2UgJ1VOQVVUSEVOVElDQVRFRF9FUlJPUic6CiAgICAgIG1lc3NhZ2UgPSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQnOwogICAgICBicmVhazsKCiAgICBjYXNlICdJTlZBTElEX0NSRURFTlRJQUxTX0VSUk9SJzoKICAgICAgbWVzc2FnZSA9ICdJbmNvcnJlY3QgZW1haWwgb3IgcGFzc3dvcmQnOwogICAgICBicmVhazsKCiAgICBjYXNlICdWQUxJREFUSU9OX0VSUk9SJzoKICAgICAgbWVzc2FnZSA9ICJXZSd2ZSBlbmNvdW50ZXJlZCBlcnJvcnMgd2hpbGUgdmFsaWRhdGluZyB5b3VyIGlucHV0cyI7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1NNVFBfRVJST1InOgogICAgICBtZXNzYWdlID0gJ0ZhaWxlZCB0byBzZW5kIGVtYWlsJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUkVTT1VSQ0VfTk9UX0ZPVU5EX0VSUk9SJzoKICAgICAgbWVzc2FnZSA9ICJTb3JyeSwgdGhlIGRhdGEgeW91IGFyZSBsb29raW5nIGZvciBzZWVtcyB0byBiZSBtaXNzaW5nIGluIG91ciBkYXRhYmFzZSI7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1RPT19NQU5ZX1JFUVVFU1RTX0VSUk9SJzoKICAgICAgbWVzc2FnZSA9ICJXZSd2ZSByZWNlaXZlZCB0b28gbWFueSByZXF1ZXN0IGZyb20geW91LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiI7CiAgfQoKICByZXR1cm4gewogICAgbWVzc2FnZTogbWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicKICB9Owp9Ow=="},{"version":3,"sources":["C:/Starter-Kit/HouseWeb-dbf-spa/src/util/helper.js"],"names":["axios","require","httpRequest","method","url","data","token","content_type","responseType","window","navigator","onLine","Error","headers","Accept","Authorization","process","env","VUE_APP_API_URL","createURLFromBlob","blob","URL","createObjectURL","handleVuexApiCall","vuexAction","payload","success","console","log","response","errorCode","error","getErrorObj","message","type"],"mappings":";;;;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CACvBC,MADuB,EAEvBC,GAFuB,EAGvBC,IAHuB,EAIvBC,KAJuB,EAOtB;AAAA,MAFDC,YAEC,uEAFc,kBAEd;AAAA,MADDC,YACC,uEADc,MACd;AACD,MAAI,CAACC,MAAM,CAACC,SAAP,CAAiBC,MAAtB,EAA8B,MAAM,IAAIC,KAAJ,CAAU,aAAV,CAAN;AAE9B,SAAOZ,KAAK,CAAC;AACTa,IAAAA,OAAO,EAAE;AACL,sBAAgBN,YADX;AAELO,MAAAA,MAAM,EAAE,kBAFH;AAGLC,MAAAA,aAAa,mBAAYT,KAAZ;AAHR,KADA;AAMTH,IAAAA,MAAM,EAAEA,MANC;AAOTC,IAAAA,GAAG,EAAEY,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8Bd,GAP1B;AAQTC,IAAAA,IAAI,EAAEA,IARG;AASTG,IAAAA,YAAY,EAAEA;AATL,GAAD,CAAZ;AAWH,CArBM;AAuBP,OAAO,SAASW,iBAAT,CAA2BC,IAA3B,EAAiC;AACpC,SAAOX,MAAM,CAACY,GAAP,CAAWC,eAAX,CAA2BF,IAA3B,CAAP;AACH;AAED,OAAO,IAAMG,iBAAiB;AAAA,qEAAG,iBAAOC,UAAP,EAAmBC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEND,UAAU,CAACC,OAAD,CAFJ;;AAAA;AAEnBpB,YAAAA,IAFmB;AAAA,6CAGlB;AAAEqB,cAAAA,OAAO,EAAE,IAAX;AAAiBrB,cAAAA,IAAI,EAAJA;AAAjB,aAHkB;;AAAA;AAAA;AAAA;AAKzBsB,YAAAA,OAAO,CAACC,GAAR;;AALyB,iBAMrB,YAAIC,QANiB;AAAA;AAAA;AAAA;;AAOrB;AACMC,YAAAA,SARe,GAQH,YAAID,QAAJ,CAAaxB,IAAb,CAAkByB,SARf;AASfC,YAAAA,KATe,GASPC,WAAW,CAACF,SAAD,CATJ;AAAA,6CAUd;AAAEJ,cAAAA,OAAO,EAAE,KAAX;AAAkBK,cAAAA,KAAK,EAALA,KAAlB;AAAyBD,cAAAA,SAAS,EAATA;AAAzB,aAVc;;AAAA;AAAA,kBAWd,YAAIG,OAAJ,KAAgB,aAXF;AAAA;AAAA;AAAA;;AAAA,6CAYd;AAAEP,cAAAA,OAAO,EAAE,KAAX;AAAkBK,cAAAA,KAAK,EAAE;AAAEE,gBAAAA,OAAO,EAAE,0FAAX;AAAuGC,gBAAAA,IAAI,EAAE;AAA7G;AAAzB,aAZc;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAjBX,iBAAiB;AAAA;AAAA;AAAA,GAAvB;;AAoBP,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAAAF,SAAS,EAAI;AAC7B,MAAIG,OAAO,GACP,6FADJ;;AAEA,UAAQH,SAAR;AACI,SAAK,uBAAL;AACIG,MAAAA,OAAO,GAAG,yBAAV;AACA;;AACJ,SAAK,2BAAL;AACIA,MAAAA,OAAO,GAAG,6BAAV;AACA;;AACJ,SAAK,kBAAL;AACIA,MAAAA,OAAO,GAAG,uDAAV;AACA;;AACJ,SAAK,YAAL;AACIA,MAAAA,OAAO,GACH,sBADJ;AAEA;;AACJ,SAAK,0BAAL;AACIA,MAAAA,OAAO,GACH,yEADJ;AAEA;;AACJ,SAAK,yBAAL;AACIA,MAAAA,OAAO,GAAG,mEAAV;AAnBR;;AAqBA,SAAO;AAAEA,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,IAAI,EAAE;AAAjB,GAAP;AACH,CAzBD","sourcesContent":["const axios = require('axios')\r\n\r\nexport const httpRequest = (\r\n    method,\r\n    url,\r\n    data,\r\n    token,\r\n    content_type = 'application/json',\r\n    responseType = 'json'\r\n) => {\r\n    if (!window.navigator.onLine) throw new Error('no_internet')\r\n\r\n    return axios({\r\n        headers: {\r\n            \"Content-Type\": content_type,\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        method: method,\r\n        url: process.env.VUE_APP_API_URL + url,\r\n        data: data,\r\n        responseType: responseType\r\n    })\r\n}\r\n\r\nexport function createURLFromBlob(blob) {\r\n    return window.URL.createObjectURL(blob)\r\n}\r\n\r\nexport const handleVuexApiCall = async (vuexAction, payload) => {\r\n    try {\r\n        const data = await vuexAction(payload)\r\n        return { success: true, data }\r\n    } catch (err) {\r\n        console.log(err)\r\n        if (err.response) {\r\n            // Handle Response Errors\r\n            const errorCode = err.response.data.errorCode\r\n            const error = getErrorObj(errorCode)\r\n            return { success: false, error, errorCode }\r\n        } else if (err.message === 'no_internet') {\r\n            return { success: false, error: { message: 'We\\'re having trouble connecting with the server. Please check your internet connection.', type: 'error'} }\r\n        } else {\r\n            // Throw an error if the error is not an HTTP response\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nconst getErrorObj = errorCode => {\r\n    let message =\r\n        'Sorry, we have encountered an unknown error. Please contact our technical team for support.'\r\n    switch (errorCode) {\r\n        case 'UNAUTHENTICATED_ERROR':\r\n            message = 'Your session is expired'\r\n            break\r\n        case 'INVALID_CREDENTIALS_ERROR':\r\n            message = 'Incorrect email or password'\r\n            break\r\n        case 'VALIDATION_ERROR':\r\n            message = \"We've encountered errors while validating your inputs\"\r\n            break\r\n        case 'SMTP_ERROR':\r\n            message =\r\n                'Failed to send email'\r\n            break\r\n        case 'RESOURCE_NOT_FOUND_ERROR':\r\n            message =\r\n                \"Sorry, the data you are looking for seems to be missing in our database\"\r\n            break\r\n        case 'TOO_MANY_REQUESTS_ERROR':\r\n            message = \"We've received too many request from you. Please try again later.\"\r\n    }\r\n    return { message, type: 'error' }\r\n}"]}]}