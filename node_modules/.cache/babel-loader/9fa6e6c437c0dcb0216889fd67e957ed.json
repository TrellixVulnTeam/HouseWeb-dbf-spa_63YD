{"remainingRequest":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js!C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\store\\modules\\user.js","mtime":1632365785106},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\babel.config.js","mtime":1627638834000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1N0YXJ0ZXItS2l0L0hvdXNlV2ViLWRiZi1zcGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGh0dHBSZXF1ZXN0LCBjcmVhdGVVUkxGcm9tQmxvYiB9IGZyb20gJy4uLy4uL3V0aWwvaGVscGVyLmpzJzsKdmFyIHN0YXRlID0gewogIHByb2ZpbGU6IHt9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1VTRVJfUFJPRklMRTogZnVuY3Rpb24gU0VUX1VTRVJfUFJPRklMRShzdGF0ZSwgcHJvZmlsZSkgewogICAgc3RhdGUucHJvZmlsZSA9IHByb2ZpbGU7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHt9Owp2YXIgYWN0aW9ucyA9IHsKICBoYW5kbGVDaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlUGFzc3dvcmQoXywgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBodHRwUmVxdWVzdCgncHV0JywgJy9hcGkvcHJvZmlsZS9tZS9jaGFuZ2UtcGFzc3dvcmQnLCBwYXlsb2FkLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnV0VCX0FQUF9LSVRfVE9LRU4nKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVTaG93VXNlclByb2ZpbGU6IGZ1bmN0aW9uIGhhbmRsZVNob3dVc2VyUHJvZmlsZSgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBodHRwUmVxdWVzdCgnZ2V0JywgJy9hcGkvcHJvZmlsZS9tZScsIHt9LCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnV0VCX0FQUF9LSVRfVE9LRU4nKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGhhbmRsZVVwZGF0ZVVzZXJQcm9maWxlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGVVc2VyUHJvZmlsZShfcmVmLCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBodHRwUmVxdWVzdCgncHV0JywgJy9hcGkvcHJvZmlsZS9tZScsIHBheWxvYWQsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdXRUJfQVBQX0tJVF9UT0tFTicpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1VTRVJfUFJPRklMRScsIHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVHZXRVc2VyUHJvZmlsZVBpYzogZnVuY3Rpb24gaGFuZGxlR2V0VXNlclByb2ZpbGVQaWMoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QoJ2dldCcsICcvYXBpL3Byb2ZpbGUvbWUvcHJvZmlsZS1waWN0dXJlJywge30sIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdXRUJfQVBQX0tJVF9UT0tFTicpLCB1bmRlZmluZWQsICdibG9iJyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgY3JlYXRlVVJMRnJvbUJsb2IocmVzcG9uc2UuZGF0YSkpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVVcGxvYWRVc2VyUHJvZmlsZVBpYzogZnVuY3Rpb24gaGFuZGxlVXBsb2FkVXNlclByb2ZpbGVQaWMoX3JlZjIsIGZvcm1EYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QoJ3Bvc3QnLCAnL2FwaS9wcm9maWxlL21lL3VwbG9hZC1wcm9maWxlLXBpY3R1cmUnLCBmb3JtRGF0YSwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1dFQl9BUFBfS0lUX1RPS0VOJyksICdtdWx0aXBhcnQvZm9ybS1kYXRhJyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9VU0VSX1BST0ZJTEUnLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5kYXRhLnVzZXIpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Starter-Kit/HouseWeb-dbf-spa/src/store/modules/user.js"],"names":["httpRequest","createURLFromBlob","state","profile","mutations","SET_USER_PROFILE","getters","actions","handleChangePassword","_","payload","localStorage","getItem","handleShowUserProfile","response","data","handleUpdateUserProfile","commit","user","handleGetUserProfilePic","undefined","handleUploadUserProfilePic","formData"],"mappings":"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","sourcesContent":["import { httpRequest, createURLFromBlob } from '../../util/helper.js'\r\n\r\nconst state = {\r\n    profile: {},\r\n}\r\nconst mutations = {\r\n    SET_USER_PROFILE(state, profile) {\r\n        state.profile = profile\r\n    },\r\n}\r\n\r\nconst getters = {}\r\n\r\nconst actions = {\r\n    async handleChangePassword(_, payload) {\r\n        await httpRequest(\r\n            'put',\r\n            '/api/profile/me/change-password',\r\n            payload,\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN')\r\n        )\r\n    },\r\n    async handleShowUserProfile() {\r\n        const response = await httpRequest(\r\n            'get',\r\n            '/api/profile/me',\r\n            {},\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN')\r\n        )\r\n\r\n        return response.data\r\n    },\r\n\r\n    async handleUpdateUserProfile({ commit }, payload) {\r\n        const response = await httpRequest(\r\n            'put',\r\n            '/api/profile/me',\r\n            payload,\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN')\r\n        )\r\n\r\n        commit('SET_USER_PROFILE', response.data.user)\r\n        return response.data\r\n    },\r\n    async handleGetUserProfilePic() {\r\n        const response = await httpRequest(\r\n            'get',\r\n            '/api/profile/me/profile-picture',\r\n            {},\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN'),\r\n            undefined,\r\n            'blob'\r\n        )\r\n\r\n        return createURLFromBlob(response.data)\r\n    },\r\n\r\n    async handleUploadUserProfilePic({ commit }, formData) {\r\n        const response = await httpRequest(\r\n            'post',\r\n            '/api/profile/me/upload-profile-picture',\r\n            formData,\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN'),\r\n            'multipart/form-data'\r\n        )\r\n\r\n        commit('SET_USER_PROFILE', response.data.user)\r\n        return response.data.user\r\n    },\r\n}\r\n\r\nexport default { state, getters, actions, mutations }\r\n"]}]}