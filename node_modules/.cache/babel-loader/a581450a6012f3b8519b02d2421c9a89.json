{"remainingRequest":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js!C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\store\\modules\\auth.js","dependencies":[{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\src\\store\\modules\\auth.js","mtime":1636476536928},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\babel.config.js","mtime":1627638834000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Starter-Kit\\HouseWeb-dbf-spa\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1N0YXJ0ZXItS2l0L0hvdXNlV2ViLWRiZi1zcGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IHsgaHR0cFJlcXVlc3QgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlci5qcyc7CnZhciBzdGF0ZSA9IHsKICB1c2VyRGV0YWlsczoge30sCiAgdG9rZW5Jc0V4cGlyZWQ6IGZhbHNlCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1VTRVJfREVUQUlMUzogZnVuY3Rpb24gU0VUX1VTRVJfREVUQUlMUyhzdGF0ZSwgdXNlckRldGFpbHMpIHsKICAgIHN0YXRlLnVzZXJEZXRhaWxzID0gdXNlckRldGFpbHM7CiAgfSwKICBTRVRfVE9LRU5fRVhQSVJBVElPTl9TVEFURTogZnVuY3Rpb24gU0VUX1RPS0VOX0VYUElSQVRJT05fU1RBVEUoc3RhdGUsIGlzRXhwaXJlZCkgewogICAgc3RhdGUudG9rZW5Jc0V4cGlyZWQgPSBpc0V4cGlyZWQ7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRUb2tlbklzRXhwaXJlZFN0YXRlOiBmdW5jdGlvbiBnZXRUb2tlbklzRXhwaXJlZFN0YXRlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudG9rZW5Jc0V4cGlyZWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4oX3JlZiwgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIGVtYWlsLCBwYXNzd29yZCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBlbWFpbCA9IF9yZWYyLmVtYWlsLCBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICAgICAgICAgIGFsZXJ0KCJoYW5kbGVMb2dpbiIpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBodHRwUmVxdWVzdCgncG9zdCcsICcvYXBpL2F1dGgvbG9naW4nLCB7CiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgdXNlciBkZXRhaWxzIGFuZCB0b2tlbiBpbiB0aGUgYnJvd3NlcgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdXRUJfQVBQX0tJVF9VU0VSJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS51c2VyKSk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1dFQl9BUFBfS0lUX1RPS0VOJywgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1VTRVJfREVUQUlMUycsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgaGFuZGxlTG9nb3V0OiBmdW5jdGlvbiBoYW5kbGVMb2dvdXQoX3JlZjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGh0dHBSZXF1ZXN0KCdwb3N0JywgJy9hcGkvYXV0aC9sb2dvdXQnLCB7fSwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1dFQl9BUFBfS0lUX1RPS0VOJykpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdXRUJfQVBQX0tJVF9VU0VSJyk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1dFQl9BUFBfS0lUX1RPS0VOJyk7CiAgICAgICAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9ERVRBSUxTJywge30pOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVSZWdpc3RyYXRpb246IGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdHJhdGlvbihfcmVmNCwgdXNlckRldGFpbHMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBodHRwUmVxdWVzdCgncG9zdCcsICcvYXBpL2F1dGgvcmVnaXN0ZXInLCB1c2VyRGV0YWlscyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAvL1NhdmUgdGhlIHVzZXIgZGV0YWlscyBhbmQgdG9rZW4gaW4gdGhlIGJyb3dzZXIKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnV0VCX0FQUF9LSVRfVVNFUicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEudXNlcikpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdXRUJfQVBQX0tJVF9UT0tFTicsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgICAgICBjb21taXQoJ1NFVF9VU0VSX0RFVEFJTFMnLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgaGFuZGxlRW1haWxBdmFpbGFiaWxpdHk6IGZ1bmN0aW9uIGhhbmRsZUVtYWlsQXZhaWxhYmlsaXR5KF8sIGVtYWlsKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFsZXJ0KCJoYW5kbGVFbWFpbEF2YWlsYWJpbGl0eSIpOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QoJ3Bvc3QnLCAnL2FwaS9hdXRoL3Nob3ctZW1haWwtYXZhaWxhYmlsaXR5JywgewogICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YS5lbWFpbF9hdmFpbGFibGUpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVGb3Jnb3RQYXNzd29yZDogZnVuY3Rpb24gaGFuZGxlRm9yZ290UGFzc3dvcmQoXywgZW1haWwpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QoJ3Bvc3QnLCAnL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsIHsKICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBoYW5kbGVSZXNldFBhc3N3b3JkOiBmdW5jdGlvbiBoYW5kbGVSZXNldFBhc3N3b3JkKF8sIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QoJ3Bvc3QnLCAnL2FwaS9hdXRoL3Jlc2V0LXBhc3N3b3JkJywgcGF5bG9hZCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSkoKTsKICB9LAogIGhhbmRsZVNldFRva2VuRXhwaXJhdGlvblN0YXRlOiBmdW5jdGlvbiBoYW5kbGVTZXRUb2tlbkV4cGlyYXRpb25TdGF0ZShfcmVmNSwgc3RhdGUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICBjb21taXQoIlNFVF9UT0tFTl9FWFBJUkFUSU9OX1NUQVRFIiwgc3RhdGUpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["C:/Starter-Kit/HouseWeb-dbf-spa/src/store/modules/auth.js"],"names":["httpRequest","state","userDetails","tokenIsExpired","mutations","SET_USER_DETAILS","SET_TOKEN_EXPIRATION_STATE","isExpired","getters","getTokenIsExpiredState","actions","handleLogin","commit","email","password","alert","response","localStorage","setItem","JSON","stringify","data","user","access_token","handleLogout","getItem","removeItem","handleRegistration","handleEmailAvailability","_","email_available","handleForgotPassword","handleResetPassword","payload","handleSetTokenExpirationState"],"mappings":"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","sourcesContent":["import { httpRequest } from '../../util/helper.js'\r\n\r\nconst state = {\r\n    userDetails: {},\r\n    tokenIsExpired: false\r\n}\r\n\r\nconst mutations = {\r\n    SET_USER_DETAILS(state, userDetails) {\r\n        state.userDetails = userDetails\r\n    },\r\n    SET_TOKEN_EXPIRATION_STATE(state, isExpired) {\r\n        state.tokenIsExpired = isExpired\r\n    }\r\n}\r\n\r\nconst getters = {\r\n    getTokenIsExpiredState: (state) => state.tokenIsExpired\r\n}\r\n\r\nconst actions = {\r\n  async handleLogin({ commit }, { email, password }) {\r\n    alert(\"handleLogin\");\r\n        const response = await httpRequest('post', '/api/auth/login', {\r\n            email: email,\r\n            password: password,\r\n        })\r\n\r\n        // Save the user details and token in the browser\r\n        localStorage.setItem(\r\n            'WEB_APP_KIT_USER',\r\n            JSON.stringify(response.data.user)\r\n        )\r\n        localStorage.setItem('WEB_APP_KIT_TOKEN', response.data.access_token)\r\n\r\n        commit('SET_USER_DETAILS', response.data)\r\n    },\r\n    async handleLogout({ commit }) {\r\n        await httpRequest(\r\n            'post',\r\n            '/api/auth/logout',\r\n            {},\r\n            localStorage.getItem('WEB_APP_KIT_TOKEN')\r\n        )\r\n        localStorage.removeItem('WEB_APP_KIT_USER')\r\n        localStorage.removeItem('WEB_APP_KIT_TOKEN')\r\n\r\n        commit('SET_USER_DETAILS', {})\r\n    },\r\n    async handleRegistration({ commit }, userDetails) {\r\n        const response = await httpRequest(\r\n            'post',\r\n            '/api/auth/register',\r\n            userDetails\r\n        )\r\n\r\n        //Save the user details and token in the browser\r\n        localStorage.setItem(\r\n            'WEB_APP_KIT_USER',\r\n            JSON.stringify(response.data.user)\r\n        )\r\n        localStorage.setItem('WEB_APP_KIT_TOKEN', response.data.access_token)\r\n\r\n        commit('SET_USER_DETAILS', response.data)\r\n    },\r\n  async handleEmailAvailability(_, email) {\r\n    alert(\"handleEmailAvailability\");\r\n        const response = await httpRequest(\r\n            'post',\r\n            '/api/auth/show-email-availability',\r\n            { email: email }\r\n        )\r\n        return response.data.email_available\r\n    },\r\n    async handleForgotPassword(_, email) {\r\n        await httpRequest('post', '/api/auth/forgot-password', { email })\r\n    },\r\n\r\n    async handleResetPassword(_, payload) {\r\n        await httpRequest('post', '/api/auth/reset-password', payload)\r\n    },\r\n\r\n    handleSetTokenExpirationState({ commit }, state) {\r\n        commit(\"SET_TOKEN_EXPIRATION_STATE\", state)\r\n    }\r\n}\r\n\r\nexport default { state, getters, actions, mutations }\r\n"]}]}